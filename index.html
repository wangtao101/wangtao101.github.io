<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>219_王涛-网易新闻</title>
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div id="app">
        <div id="home-main">
            <header id="hometopHeader">
                <div class="slogo">手机网易</div>
                <div class="search">
                    <div class="words">
                        <a href="./sousuo.html" class="word">
                            <span>
                                <img class="search-img" src="./img/search.png">
                                <input type="text" id="search">
                            </span>
                        </a>
                    </div>
                </div>
                <a href="./login.html"><button class="user">用户</button></a>
            </header>
            <div id="sub">
                <nav id="subNav">
                    <a href="" class="nav-item nav-item-active" id="aa">要闻</a>
                    <a href="./tuijian.html" class="nav-item" id="a1">推荐</a>
                    <a href="./yuanchuang.html" class="nav-item" id="a2">原创</a>
                    <a href="./hot.html" class="nav-item" id="a3">热点</a>
                    <span class="nav-slider"></span>
                </nav>
            </div>
            <main class="home-home">
                <div class="widget-floatMenu">
                    <button class="floatMenu">回到顶部</button>
                </div>
                <nav class="home-channelNav" id="nav_menu">
                    <a href="" class="nav-item">新闻</a>
                    <a href="" class="nav-item">推荐</a>
                    <a href="" class="nav-item">娱乐</a>
                    <a href="" class="nav-item">体育</a>
                    <a href="" class="nav-item">财经</a>
                    <a href="" class="nav-item">图片</a>
                    <a href="" class="nav-item">汽车</a>
                    <a href="" class="nav-item">军事</a>
                    <a href="" class="nav-item">直播</a>
                    <a href="" class="nav-item">房产</a>
                    <a href="" class="nav-item">科技</a>
                    <a href="" class="nav-item">公益</a>
                    <a href="" class="nav-item">视频</a>
                    <a href="" class="nav-item">手机</a>
                    <a href="" class="nav-item">数码</a>
                    <a href="" class="nav-item">本地</a>
                    <a href="" class="nav-item">时尚</a>
                    <a href="" class="nav-item">家居</a>
                    <a href="" class="nav-item">跟贴</a>
                    <a href="" class="nav-item">游戏</a>
                    <a href="" class="nav-item">教育</a>
                    <a href="" class="nav-item">公开课</a>
                    <a href="" class="nav-item">健康</a>
                    <a href="" class="nav-item">旅游</a>
                    <a href="" class="nav-item">亲子</a>
                    <a href="" class="nav-item">艺术</a>
                    <a href="" class="nav-item">双创</a>
                    <a href="" class="nav-item">问答</a>
                    <a href="" class="nav-item s-small">数字藏品</a>
                    <div class="nav-item"></div>
                    <button id="s-more" onclick=""></button>
                </nav>
                <div class="home-topNews">

                </div>
                <div class="home-channelNews">
                    <ul>
                    </ul>
                    <footer>
                        <a href="">
                            进入今日要闻
                            <sapn class="i-arrow">
                                <button></button>
                                </span>
                        </a>
                        <a href="">
                            打开APP
                            <span class="i-arrow">
                                <button></button>
                            </span>
                        </a>
                    </footer>
                </div>
                <div class="home-channelNews">
                    <header>
                        <h2><a href="">体育</a></h2>
                        <nav>
                            <a href="">NBA</a>
                            <a href="">中超</a>
                            <a href="">CBA</a>
                        </nav>
                    </header>
                    <ul>

                    </ul>
                    <footer>
                        <a href="" id="jz">
                            进入网易体育
                            <span class="i-arrow">
                                <button></button>
                            </span>
                        </a>
                    </footer>
                </div>
                <div class="home-channelNews">
                    <header>
                        <h2><a href="">娱乐</a></h2>
                        <nav>
                            <a href="">电视</a>
                            <a href="">电影</a>
                            <a href="">明星</a>
                        </nav>
                    </header>
                    <ul>
                      

                    </ul>
                    <footer>
                        <a href="" id="jz">
                            进入网易娱乐
                            <i class="i-arrow">
                                <button></button>
                            </i>
                        </a>
                    </footer>
                </div>
                <div class="home-channelNews">
                    <header>
                        <h2><a href="">军事</a></h2>
                        <nav>
                            <a href="">军品</a>
                            <a href="">军情</a>
                        </nav>
                    </header>
                    <ul>

                    </ul>
                    <footer>
                        <a href="" id="jz">
                            进入网易军事
                            <i class="i-arrow">
                                <button></button>
                            </i>
                        </a>
                    </footer>
                </div>
                <div class="home-channelNews">
                    <header>
                        <h2><a href="">科技</a></h2>
                        <nav>
                            <a href="">科学</a>
                            <a href="">智能</a>
                        </nav>
                    </header>
                    <ul>

                    </ul>
                    <footer>
                        <a href="" id="jz">
                            进入网易娱乐
                            <i class="i-arrow">
                                <button></button>
                            </i>
                        </a>
                    </footer>
                </div>
                <div class="home-sitemap">
                    <h2>推荐栏目</h2>
                    <nav class="sitemap-nav">
                        <a href="" class="nav-item">新闻</a>
                        <a href="" class="nav-item">推荐</a>
                        <a href="" class="nav-item">娱乐</a>
                        <a href="" class="nav-item">体育</a>
                        <a href="" class="nav-item">财经</a>
                        <a href="" class="nav-item">图片</a>
                        <a href="" class="nav-item">汽车</a>
                        <a href="" class="nav-item">军事</a>
                        <a href="" class="nav-item">直播</a>
                        <a href="" class="nav-item">房产</a>
                        <a href="" class="nav-item">科技</a>
                        <a href="" class="nav-item">公益</a>
                        <a href="" class="nav-item">视频</a>
                        <a href="" class="nav-item">手机</a>
                        <a href="" class="nav-item">数码</a>
                        <a href="" class="nav-item">本地</a>
                        <a href="" class="nav-item">时尚</a>
                        <a href="" class="nav-item">家居</a>
                        <a href="" class="nav-item">跟贴</a>
                        <a href="" class="nav-item">游戏</a>
                        <a href="" class="nav-item">教育</a>
                        <a href="" class="nav-item">公开课</a>
                        <a href="" class="nav-item">健康</a>
                        <a href="" class="nav-item">旅游</a>
                        <a href="" class="nav-item">亲子</a>
                        <a href="" class="nav-item">艺术</a>
                        <a href="" class="nav-item">双创</a>
                        <a href="" class="nav-item">问答</a>
                        <a href="" class="nav-item s-small">数字藏品</a>
                        <div class="nav-item"></div>
                    </nav>
                </div>
                <footer class="home-footer">
                    <div class="s-links">
                        <a href="./freedback.html" class="s-link s-feedback">
                            <img src="./img/fankui.png" alt="">
                            反馈
                        </a>
                        <a href="" class="s-link s-coop">
                            <img src="./img/hezuo.png" alt="">
                            合作
                        </a>
                        <a href="./login.html" class="s-link s-login">
                            <img src="./img/login.png" alt="">
                            登录
                        </a>
                    </div>
                    <div class="s-copyright">
                        Copyright ©
                        2022
                        163.com
                    </div>
                </footer>
            </main>
        </div>
    </div>

    <script type="text/javascript">

        window.onscroll = function () {
            var st = document.documentElement.scrollTop || document.body.scrollTop;
            var aa = document.getElementById("aa");
            var a1 = document.getElementById("a1");
            var a2 = document.getElementById("a2");
            var a3 = document.getElementById("a3");
            // 
            // console.log(st);
            if (st > hometopHeader.offsetHeight) {
                //clientHeight：元素的像素高度，包含元素的高度+内边距，不包含水平滚动条、边框和外边距
                //offsetHeight：元素的像素高度，包含元素的垂直内边距+边框+水平滚动条的高度
                //scrollHeight：元素内容的高度，包括溢出的不可见内容距
                // box.style.display = "block";
                // sub.style.position = "fixed";
                sub.style = "background: #ee1a1a;left: 50%;transform: translateX(-50%);margin: 0;position: fixed;top: 0;z-index: 199";
                aa.style.color = "#eee";
                a1.style.color = "#eee";
                a2.style.color = "#eee";
                a3.style.color = "#eee";
            }
            else {
                sub.style = "none";
                aa.style.color = "red";
                a1.style.color = "#333";
                a2.style.color = "#333";
                a3.style.color = "#333";
            }
        }

        var subNav = document.getElementById("subNav");
        var al = subNav.getElementsByTagName("a");
        for (var i = 0; i < al.length; i++) {
            // console.log(al[i]);
            // al[i].index = i;
            al[i].onclick = function () {
                console.log(al[i]);
                al[i].className = "";
                this.className = "clicked";
            }

        }

        function dian() {
            let classList = document.getElementById("nav_menu").classList;
            let more = document.getElementById("s-more");
            if (!classList.contains("home-channelNav-expend")) {
                document.getElementById("nav_menu").classList.add("home-channelNav-expend");
                more.style = "transform: scaleY(-1);"
            }
            else {
                document.getElementById("nav_menu").classList.remove("home-channelNav-expend");
                more.style = "transform: scaleY(1);"
            }
        }
        document.getElementById("s-more").onclick = dian;

        var home = document.getElementById("app");
        var floatMenu = document.querySelector(".floatMenu");

        window.addEventListener("scroll", function () {
            if (window.pageYOffset >= home.offsetTop + 1600) {
                floatMenu.style.display = "block";
            }
            else {
                floatMenu.style.display = "none";
            }

            floatMenu.addEventListener("click", function () {
                window.scroll(0, 0);
            })
        })

        //json

        var ul1 = document.getElementsByClassName("home-channelNews")[0].getElementsByTagName("ul")[0];
        var ul2 = document.getElementsByClassName("home-channelNews")[1].getElementsByTagName("ul")[0];
        var ul3 = document.getElementsByClassName("home-channelNews")[2].getElementsByTagName("ul")[0];
        var ul4 = document.getElementsByClassName("home-channelNews")[3].getElementsByTagName("ul")[0];
        var ul5 = document.getElementsByClassName("home-channelNews")[4].getElementsByTagName("ul")[0];
        var ul6 = document.getElementsByClassName("home-topNews")[0];
        // console.log(ul6);
        function addLI(li) {
            var m = `
                <a href="" class="cards-one cards-news">
                                <article>
                                    <div class="s-left">
                                        <h4>${li.title}</h4>
                                        <div class="s-info">
                                            <span class="s-source">${li.s1}</span>
                                            <span class="s-reply">${li.s2}</span>
                                            <span class="s-holder"></span>
                                            <span class="s-openApp">${li.s3}</span>
                                        </div>
                                    </div>
                                    <div class="s-right">
                                        <img src="${li.img}">
                                    </div>
                                </article>
                            </a>
            `;

            var nlix = document.createElement("li");
            nlix.innerHTML = m;
            ul1.appendChild(nlix);
        }
        var xmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            xmlhttp = new XMLHttpRequest();
        } else {
            // IE6, IE5 浏览器执行代码
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {

                var json = JSON.parse(xmlhttp.responseText);//解析为json格式
                for (var i = 0; i < json.length; i++) {
                    addLI(json[i]);
                }
            }
        }
        xmlhttp.open("GET", "/JSON/index1.json", true);
        xmlhttp.send();

        function addTiyu(li) {
            var n = `
                           <a href="" class="cards-one" cards-news>
                                <article>
                                    <div class="s-left">
                                        <h4>${li.title}</h4>
                                        <div class="s-info">
                                            <span class="s-stag">${li.t}</span>
                                            <span class="s-source">${li.s1}</span>
                                            <span class="s-reply">${li.s2}</span>
                                            <span class="s-holder"></span>
                                        </div>
                                    </div>
                                    <div class="s-right">
                                        <img src=${li.img}>
                                    </div>
                                </article>
                            </a>
                     `;
            var nliy = document.createElement("li");
            nliy.innerHTML = n;
            ul2.appendChild(nliy);
        }

        var ymlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            ymlhttp = new XMLHttpRequest();
        } else {
            // IE6, IE5 浏览器执行代码
            ymlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        ymlhttp.onreadystatechange = function () {
            if (ymlhttp.readyState == 4 && ymlhttp.status == 200) {

                let json = JSON.parse(ymlhttp.responseText);//解析为json格式
                for (var i = 0; i < json.length; i++) {
                    addTiyu(json[i]);
                }
            }
        }
        ymlhttp.open("GET", "/JSON/index2.json", true);
        ymlhttp.send();

        function addYule(li) {
            var k = `
            <a href="" class="cards-one" cards-news>
                                <article>
                                    <div class="s-left">
                                        <h4>${li.title}</h4>
                                        <div class="s-info">
                                            <span class="s-source">${li.s1}</span>
                                            <span class="s-reply">${li.s2}</span>
                                            <span class="s-holder"></span>
                                            <span class="s-openApp">${li.p}</span>
                                        </div>
                                    </div>
                                    <div class="s-right">
                                        <img src=${li.img}>
                                    </div>
                                </article>
                            </a>
            `;
            var nliz = document.createElement("li");
            nliz.innerHTML = k;
            ul3.appendChild(nliz);
        }
        var zmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            zmlhttp = new XMLHttpRequest();
        } else {
            // IE6, IE5 浏览器执行代码
            zmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        zmlhttp.onreadystatechange = function () {
            if (zmlhttp.readyState == 4 && zmlhttp.status == 200) {

                let json = JSON.parse(zmlhttp.responseText);//解析为json格式
                for (var i = 0; i < json.length; i++) {
                    addYule(json[i]);
                }
            }
        }
        zmlhttp.open("GET", "/JSON/index3.json", true);
        zmlhttp.send();

        function addJunshi(li) {
            var j = `
                <a href="" class="cards-bigImg" cards-news>
                                <article>
                                    <div class="s-img-wrap">
                                        <h4>${li.title}</h4>
                                        <img src=${li.img} class="s-img-wrap">
                                        <div class="s-info">
                                            <span class="s-stag">${li.s1}</span>
                                            <span class="s-source">${li.s2}</span>
                                            <span class="s-reply">${li.s3}</span>
                                            <span class="s-holder"></span>
                                            <span class="s-openApp">${li.s4}</span>
                                        </div>
                                    </div>
                                </article>
                            </a>
                `;
            var nlij = document.createElement("li");
            nlij.innerHTML = j;
            ul4.appendChild(nlij);
        }
        var jmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            jmlhttp = new XMLHttpRequest();
        } else {
            // IE6, IE5 浏览器执行代码
            jmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        jmlhttp.onreadystatechange = function () {
            if (jmlhttp.readyState == 4 && jmlhttp.status == 200) {

                let json = JSON.parse(jmlhttp.responseText);//解析为json格式
                for (var i = 0; i < json.length; i++) {
                    addJunshi(json[i]);
                }
            }
        }
        jmlhttp.open("GET", "/JSON/index4.json", true);
        jmlhttp.send();

        function addKeji(li) {
            var v = `
                    <a href="" class="cards-one" cards-news>
                                <article>
                                    <div class="s-left">
                                        <h4>${li.title}</h4>
                                        <div class="s-info">
                                            <span class="s-stag">${li.s1}</span>
                                            <span class="s-source">${li.s2}</span>
                                            <span class="s-reply">${li.s3}</span>
                                            <span class="s-holder"></span>
                                            <span class="s-openApp">${li.s4}</span>
                                        </div>
                                    </div>
                                    <div class="s-right">
                                        <img src=${li.img}>
                                    </div>
                                </article>
                            </a>
                    `;
            var nliv = document.createElement("li");
            nliv.innerHTML = v;
            ul5.appendChild(nliv);
        }
        var vmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            vmlhttp = new XMLHttpRequest();
        } else {
            // IE6, IE5 浏览器执行代码
            vmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        vmlhttp.onreadystatechange = function () {
            if (vmlhttp.readyState == 4 && vmlhttp.status == 200) {

                let json = JSON.parse(vmlhttp.responseText);//解析为json格式
                for (var i = 0; i < json.length; i++) {
                    addKeji(json[i]);
                }
            }
        }
        vmlhttp.open("GET", "/JSON/index5.json", true);
        vmlhttp.send();

        function addXw(a) {
            var xw = `
                        <a href="${a.link}" class="cards-one">
                        <article>
                            <div class="s-left">
                                <h4>${a.title}</h4>
                                <div class="s-info">
                                    <span class="s-source">${a.s1}</span>
                                    <span class="s-holder"></span>
                                </div>
                            </div>
                        </article>
                    </a>
                        `;
            var xwliv = document.createElement("a");
            xwliv.innerHTML = xw;
            ul6.appendChild(xwliv);
        }
        var xwmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            xwmlhttp = new XMLHttpRequest();
        } else {
            // IE6, IE5 浏览器执行代码
            xwmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xwmlhttp.onreadystatechange = function () {
            if (xwmlhttp.readyState == 4 && vmlhttp.status == 200) {

                let json = JSON.parse(xwmlhttp.responseText);//解析为json格式
                for (var i = 0; i < json.length; i++) {
                    addXw(json[i]);
                }
            }
        }
        xwmlhttp.open("GET", "/JSON/index6.json", true);
        xwmlhttp.send();

        let textArray = [
            "聚焦二十大",
            "告全党全军全国各族人民书",
            "江泽民同志治丧委员会名单",
            "神舟十五号成功发射",
            "《三国演义》张飞扮演者李靖飞去世",
            "卡塔尔表情包王子中文感谢中国网友",
            "天安门下半旗致哀",
            "世界杯16强已产生10强"
        ];
        let currentIndex = 1;
        search.setAttribute("placeholder", textArray[0]);
        setInterval(function () {
            let search = document.getElementById("search");
            if (currentIndex >= textArray.length) {
                currentIndex = 0;
            }
            search.setAttribute("placeholder", textArray[currentIndex]);
            currentIndex++;
        }, 3000);
    </script>
</body>

</html>